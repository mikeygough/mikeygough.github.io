<!DOCTYPE html>
<html>

<head>
    <title>waves</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
    </style>
</head>

<body>
    <script type="module">
        import {
            select,
            range
        } from 'https://cdn.skypack.dev/d3@7.0.0';

        const width = window.innerWidth;
        const height = window.innerHeight;

        const svg = select('body')
            .append('svg')
            .attr('width', width)
            .attr('height', height);
        
        let t = 0;

        setInterval(() => {
            const data = range(25).map(d => ({
            x: d * 60 + 50,
            y: 250 + Math.sin(d * 0.5 + t) * 220,
            r: 20 + Math.sin(d * 0.5 + t * 2) * 10
            }));

            // .join is a shorthand for the entire general update pattern (initialize, then update)
            const circles = svg
                .selectAll('circle')
                .data(data)
                .join('circle')
                .attr('r', (d) => d.r)
                .attr('cx', (d) => d.x)
                .attr('cy', (d) => d.y);

            t = t + 0.01;
        }, 1000 / 60);
           
    </script>

</body>

</html>